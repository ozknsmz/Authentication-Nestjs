generator client {
  provider = "prisma-client-js"
}

datasource db {
  url      = "postgresql://postgres:1234@localhost:5432/Nest"
  provider = "postgresql"
}

model User{
  id Int @id @default(autoincrement()) 
  name String?
  username String @unique
  password String?
  userRole User_Role[]
  user_role Role_type @default(USER)
}

model Role{
  id Int @id @default(autoincrement())
  assignedAt DateTime @default(now())
  author_name String
  author_id Int @unique
  userRole User_Role[]
}

model User_Role{
  id Int @id @default(autoincrement())
  user_role Role_type @default(USER)
  user_id Int @unique
  user User @relation(fields:[user_id], references:[id] )
  role_id Int @unique
  role Role @relation(fields:[role_id],references:[id])
}

enum Role_type{
    USER
    ADMIN
    SUPERADMIN
}
